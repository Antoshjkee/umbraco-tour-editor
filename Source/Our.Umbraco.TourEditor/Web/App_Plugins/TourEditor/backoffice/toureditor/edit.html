<div ng-controller="Our.Umbraco.TourEditor.EditFileController as vm">
    <umb-load-indicator ng-if="vm.page.loading"></umb-load-indicator>

    <form name="tourFileForm"
          ng-submit="vm.save()"
          novalidate
          val-form-manager
          ng-if="!vm.page.loading">
        
        <umb-editor-view>
            
            <umb-editor-header menu="vm.page.menu"
                               name="vm.data.fileName"
                               name-locked="true"
                               hide-icon="true"
                               hide-description="true"
                               hide-alias="true">
            </umb-editor-header>
            
            <umb-editor-container class="form-horizontal">

                <umb-editor-sub-views
                    sub-views="vm.page.navigation"
                    model="vm.data"
                >
                </umb-editor-sub-views>                              

            </umb-editor-container>
            
            <umb-editor-footer>
                <umb-editor-footer-content-right>
                    <umb-button action="vm.returnToTourList()" label="Return to tour list" type="button" ng-if="vm.page.navigation[1].active"></umb-button>
                    <umb-button action="vm.saveTourFile()" label="Save" type="button" ng-if="vm.page.navigation[0].active"  button-style="success"></umb-button>
                </umb-editor-footer-content-right>
            </umb-editor-footer>

        </umb-editor-view>
    </form>
</div>